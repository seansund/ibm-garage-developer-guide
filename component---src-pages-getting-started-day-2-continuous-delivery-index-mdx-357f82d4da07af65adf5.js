(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"2baq":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return l})),a.d(t,"default",(function(){return m}));var n=a("k1TG"),i=a("8o2o"),o=(a("q1tI"),a("7ljp")),s=a("013z"),r=a("T0C+"),l=(a("qKvR"),{}),p=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(o.b)("div",t)}},c=p("PageDescription"),b=p("InlineNotification"),d={_frontmatter:l},u=s.a;function m(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(o.b)(u,Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)(c,{mdxType:"PageDescription"},Object(o.b)("p",null,"Use GitOps to continuously deliver application changes")),Object(o.b)("p",null,"In IBM Garage Method, one of the ",Object(o.b)("strong",{parentName:"p"},"Develop")," practices is ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.ibm.com/garage/method/practices/deliver/practice_continuous_delivery/"}),"continuous delivery"),".\nA preferred model for implementing continuous delivery is GitOps, where the desired state of the operational environment\nis defined in a source control repository (namely Git). "),Object(o.b)("h2",null,"What is continuous delivery"),Object(o.b)("p",null,"Continuous delivery is the DevOps approach of frequently making new versions of an application’s components available for\ndeployment to a runtime environment. The process involves automation of the build and validation process and concludes\nwith a new version of the application that is available for promotion to another environment."),Object(o.b)("p",null,"Continuous delivery is closely related to continuous deployment. The distinction is:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Continuous delivery deploys an application when a user manually triggers deployment"),Object(o.b)("li",{parentName:"ul"},"Continuous deployment deploys an application automatically when it is ready")),Object(o.b)("p",null,"Typically, continuous deployment is an evolution of a continuous delivery process. An application is ready for\ndeployment when it passes a set of tests that prove it doesn’t contain any significant problems. Once these tests have been\nautomated in a way that reliably verifies the application components then the deployment can be automated. Additionally,\nfor continuous delivery it important to employ other best practices around moving and managing changes in an environment:\nblue-green deployments, shadow deployments, and feature toggles to name a few. Until these practices are in place and\nverified, it is best to stick with continuous delivery. "),Object(o.b)("p",null,"As with most cloud-native practices, the move from continuous deployment to continuous delivery would not be done in\na “big bang” but incrementally and as different application components are ready. "),Object(o.b)("h3",null,"What is GitOps"),Object(o.b)("p",null,Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.weave.works/technologies/gitops/"}),Object(o.b)("em",{parentName:"a"},"GitOps"))," is the operational pattern of using source code repositories\n(namely Git) as the source of truth for defining the configuration that makes up the desired state of the operational\nenvironment. Git repositories are used to declaratively represent the desired state of applications in deployment\nenvironments."),Object(o.b)("p",null,"GitOps takes advantage of several Git features:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Git provides a versioned history of changes, listing what was changed and who made the change"),Object(o.b)("li",{parentName:"ul"},"Change releases can be managed from a pull request, allowing multiple people to make changes but a select few to approve the changes"),Object(o.b)("li",{parentName:"ul"},"Git provides access control mechanisms to limit who can change and view the configuration"),Object(o.b)("li",{parentName:"ul"},"Git enables changes to be rolled back quickly if there is an issue with a new release"),Object(o.b)("li",{parentName:"ul"},"Git supports multiple models for change management: Branches, Forks, GitFlow, etc"),Object(o.b)("li",{parentName:"ul"},"Hosted git providers (like GitHub) provide a rich API that allows the different operations to be automated, if desired")),Object(o.b)("h3",null,"CI/CD integration"),Object(o.b)("p",null,"For the full end-to-end build and delivery process, both the CI and CD pipelines are used. When working in\na containerized environment such as ",Object(o.b)(r.a,{name:"kube",mdxType:"Globals"})," or ",Object(o.b)(r.a,{name:"ocp",mdxType:"Globals"}),", the responsibilities between the\ntwo processes are clearly defined:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The ",Object(o.b)("strong",{parentName:"li"},"CI pipeline")," is responsible for building validating and packaging the “raw materials” (source code, deployment\nconfiguration, etc) into versioned, deployable artifacts (container images, helm charts, published artifacts, etc)"),Object(o.b)("li",{parentName:"ul"},"The ",Object(o.b)("strong",{parentName:"li"},"CD pipeline")," is responsible for applying the deployable artifacts into a particular target environment")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1081px"}},"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACMklEQVQoz5VSS2gTQRjeTQ7NSUG8VU1MRaU1oRVq9eDJs7ceLHiTngIVChWEQvHgQUEqXqym0qqFWmwiKTY+AklM83I1oTGFJI0xZjf7SjPZbpM2TTbNuDNFyKEN+l++b75/+P7HDEFR30hCDbfbc2nFH7xJtEQdQuK/w+HntAiXKTBqWxG/Im61f77wfMFxDvE91dRkMv27IYQQdzjx1HP0/hObEfFSzLckxQPPEG+GbZpsntVwooDv3bMzpMCzpCiKJMuyJEVR2CcWix1eZH3uQT9wz5txwVxE01L8wPvLrfqPkKeX0Kd0S+F8d3Jt1RyJrvbZIDzS2n2Jyw9Ui3w/4iOv6FO/MmnDhsDr4zLsHIMQF5z5a+rjSuMI2Q3ZWVFDLoHdctTlUqUOQ7f5BMp9zBbmPjHgNeIfosJwdWe7WpQ2wQ77U+HeWy8jXfyyuD/J9Bp3HGEu8f1YbD3bmfI4DOWJa1cHdYSGONmDH2x05m2Xxbpwdr9rWhfwek2PXy728NN3rjenhvHemTez2rHJDJ6IGHn3m2zzaIeltAeqrgyHMZlIkBmGJXNRP7n1aEhzQ9WcviDOZTm+o1ypnE4kU8Z4xHfGPv7iimUyq88lwsZQIHQeAFYffDjfO3Q33dX2SxUKBbwXmqb7JEmC6rlREPgGm6ZhJLl5WxR4AQAARVGoy1wROr2Mpa2hLMvYkGGYi+rosF6vNxVFgcpeQ9kug1vV6m4R6bVarYFwS+IG/wD1wEB818NSpgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"CI/CD end-to-end",title:"CI/CD end-to-end",src:"/static/11dcd857ca41be05aabd62d9b7fbfd60/631bd/CI_CD-pipelines.png",srcSet:["/static/11dcd857ca41be05aabd62d9b7fbfd60/7fc1e/CI_CD-pipelines.png 288w","/static/11dcd857ca41be05aabd62d9b7fbfd60/a5df1/CI_CD-pipelines.png 576w","/static/11dcd857ca41be05aabd62d9b7fbfd60/631bd/CI_CD-pipelines.png 1081w"],sizes:"(max-width: 1081px) 100vw, 1081px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"A change made to one of the source repositories triggers the CI process.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The CI process builds, validates, and packages those changes into deployable artifacts that are stored in the image\nregistry and artifact repository(ies).")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The last step of the CI process updates the GitOps repository with information about the updated artifacts. "),Object(o.b)("p",{parentName:"li"},"At a minimum this step stores updates the version number to the newly released versions of the artifacts but depending on the environment this step might also update the deployment configuration."),Object(o.b)(b,{mdxType:"InlineNotification"},Object(o.b)("p",{parentName:"li"},"It is also possible to trigger a process when a new image is available in the image registry or a new artifact is available\nto the artifact management system. "),Object(o.b)("p",{parentName:"li"},"In this case, the CI process could be split into two parts: ",Object(o.b)("strong",{parentName:"p"},"1)")," create the\ncontainer image and artifacts, and ",Object(o.b)("strong",{parentName:"p"},"2)")," update the GitOps repo with the available artifacts."))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Changes to the GitOps repository trigger the CD pipeline to run")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"In the CD pipeline, the configuration describing the desired state as defined in the GitOps repository is reconciled\nwith the actual state of the environment and resources are created, updated, or destroyed as appropriate."))),Object(o.b)("h2",null,"Tools to support Continuous Delivery"),Object(o.b)("p",null,"The practice of (CD) can be accomplished in different ways and with different tools. It is possible and\ncertainly valid to use the same tool for both CI and CD (e.g. Tekton or Jenkins) with caution you enforce a clear separation\nbetween the two processes. Typically, that would result in two distinct pipelines to respond to changes that happen\nwithin the two different Git repos - source repo and gitops repo."),Object(o.b)("p",null,"Another class of tools is available that are particularly suited for Continuous Delivery and GitOps. The following is by no\nmeans an exhaustive list but it does provide some of the common tools used for CD in a cloud-native environment:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/tools/argocd"}),"ArgoCD")),Object(o.b)("li",{parentName:"ul"},"Flux"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.ibm.com/cloud/cloud-pak-for-management"}),"IBM Multicloud Manager"))))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-getting-started-day-2-continuous-delivery-index-mdx-357f82d4da07af65adf5.js.map